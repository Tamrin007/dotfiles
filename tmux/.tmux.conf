#
#  __                                                           ___
# /\ \__                                                      /'___\
# \ \ ,_\   ___ ___   __  __  __  _       ___    ___     ___ /\ \__/
#  \ \ \/ /' __` __`\/\ \/\ \/\ \/'\     /'___\ / __`\ /' _ `\ \ ,__\
#   \ \ \_/\ \/\ \/\ \ \ \_\ \/>  </  __/\ \__//\ \L\ \/\ \/\ \ \ \_/
#    \ \__\ \_\ \_\ \_\ \____//\_/\_\/\_\ \____\ \____/\ \_\ \_\ \_\
#     \/__/\/_/\/_/\/_/\/___/ \//\/_/\/_/\/____/\/___/  \/_/\/_/\/_/
#

# Configuration
# Prefix
unbind-key C-b
set-option -g prefix C-t
# Reduce delay
set -sg escape-time 0
# Reload tmux settings
bind r source-file ~/.tmux.conf \; display "tmux settings reloaded."
# Enable 256 colors
set -g default-terminal "screen-256color"
# Enable mouse
setw -g mouse on
# Reception time
set -g repeat-time 500
# Don't rename windows automatically
set-option -g allow-rename off
# Enable True Color
set -g default-terminal "screen-256color"
set-option -ga terminal-overrides ",xterm-256color:Tc"

# Keybindings
# Split pane
unbind %
unbind '"'
bind-key | split-window -h -c "#{pane_current_path}"
bind-key - split-window -v -c "#{pane_current_path}"

# Pane operation
# Switch pane
bind-key h select-pane -L
bind-key j select-pane -D
bind-key k select-pane -U
bind-key l select-pane -R
# Resize pane
bind -r H resize-pane -L 5
bind -r J resize-pane -D 5
bind -r K resize-pane -U 5
bind -r L resize-pane -R 5
# Window operation
bind -r C-h select-window -t :-
bind -r C-l select-window -t :+

# Copy settings
# vi keybindings
setw -g mode-keys vi
# Visual mode vegin with `v`
bind-key -t vi-copy v begin-selection
bind-key -t vi-copy y copy-pipe "reattach-to-user-namespace pbcopy"
# Update default binding of `Enter' to also use copy-pipe
unbind -t vi-copy Enter
bind-key -t vi-copy Enter copy-pipe "reattach-to-user-namespace pbcopy"
set-option -g default-command "reattach-to-user-namespace -l $SHELL"

# Status line
# Place on top
set-option -g status-position top
# Refresh every 1s
set-option -g status-interval 1
# Background color
set-option -g status-bg "colour238"
# Foreground color
set-option -g status-fg "colour255"
# Set length of status left
set-option -g status-left-length 100
# Information of status left
set-option -g status-left "#[fg=colour255,bg=colour241] #h | Session: #S #[default]"
# Set length of status right
set-option -g status-right-length 60
# Information of status right
set-option -g status-right "#[fg=colour255,bg=colour241] %Y/%m/%d %H:%M:%S #[default]"
# Set format of windows status
set-window-option -g window-status-format " #I: #W "
set-window-option -g window-status-current-format "#[fg=colour255,bg=colour27,bold] #I: #W #[default]"

